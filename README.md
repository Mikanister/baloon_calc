# Калькулятор аеростатів v2.0

Сучасний калькулятор для розрахунку параметрів аеростатів (повітряних куль) з графічним інтерфейсом на Tkinter/TTKBootstrap.

## Основні можливості

### Розрахунки
- **Два режими розрахунку:**
  - **Об'єм → навантаження**: Розрахунок підйомної сили та корисного навантаження для заданого об'єму газу
  - **Навантаження → об'єм**: Розрахунок необхідного об'єму газу для заданого навантаження
- Розрахунок підйомної сили, маси оболонки, втрат газу, напруги, об'єму
- Фізично обґрунтована модель втрат газу через оболонку
- Підтримка різних матеріалів (TPU, HDPE, Nylon, Mylar, Kapton тощо) та газів (Гелій, Водень, Гаряче повітря)
- Розрахунок оптимальної висоти польоту (SciPy optimization)

### Форми оболонки
- **Сфера**: Класична сферична форма
- **Подушка/мішок**: Еліпсоїдна форма з параметрами довжини та ширини
- **Груша**: Конічна форма з різними радіусами верхньої та нижньої частини
- **Сигара**: Циліндрична форма з параметрами довжини та радіуса

### Візуалізація
- **Інтерактивні 3D моделі** (Plotly): Обертання, масштабування, збереження як HTML
- **2D викрійки**: Генерація та візуалізація патернів для розкрою матеріалу
- **Графіки залежностей** (Matplotlib): Підйомна сила, втрати газу, параметри на різних висотах
- **3D прев'ю** в розділі викрійок для наочності

### Експорт даних
- **Excel експорт** (Pandas): Результати розрахунків та дані викрійок
- **PNG/CSV експорт**: Збереження графіків та таблиць
- **HTML експорт**: Інтерактивні 3D моделі

### Інтерфейс
- **Сучасний UI** (TTKBootstrap): Темна тема, стильні віджети
- **Розділення екрану**: Форма введення (зліва) та результати зі скролом (справа)
- **Статус-бейдж**: Візуальна індикація статусу розрахунку (ок/попередження/критично)
- **Інтерактивна валідація**: Підказки до всіх полів, перевірка в реальному часі
- **Автоматичне приховування полів**: Поля показуються/приховуються залежно від режиму та вибраних параметрів
- **Збереження налаштувань**: Автоматичне збереження та завантаження параметрів

### Технології
- **Pydantic**: Валідація даних з типізацією
- **Pydantic Settings**: Управління налаштуваннями
- **TTKBootstrap**: Сучасний UI з темною темою
- **Plotly**: Інтерактивні 3D візуалізації
- **Pandas**: Експорт даних у Excel
- **SciPy**: Оптимізація параметрів
- **Rich**: Покращений вивід у консоль
- **MkDocs**: Документація проекту

## Готові релізи (exe)

Усі стабільні версії програми для Windows зберігаються у папці `dist_exe/`:
- `dist_exe/v2.0/balloon_calculator.exe` — актуальна версія з усіма новими можливостями

### Запуск exe-файлу
1. Перейдіть у папку `dist_exe/v2.0/`
2. Запустіть файл `balloon_calculator.exe` подвійним кліком
3. Python не потрібен

## Запуск з Python (розробка)

### Вимоги
- Python 3.8+
- Всі залежності з `requirements.txt` або `pyproject.toml`

### Встановлення

#### Варіант 1: З requirements.txt
```bash
pip install -r requirements.txt
```

#### Варіант 2: З pyproject.toml (рекомендовано)
```bash
pip install -e .
```

### Запуск

#### Варіант 1: Як модуль (рекомендовано)
```bash
python -m balloon
```

#### Варіант 2: Через __main__.py
```bash
python -m balloon
```

#### Варіант 3: Напряму
```bash
python balloon/gui_main.py
```

## Запуск тестів

```bash
pytest
```

З покриттям коду:
```bash
pytest --cov=balloon --cov-report=html
```

Детальніше про тести див. `tests/README.md`

## Документація

Документація проекту генерується за допомогою MkDocs:

```bash
# Встановлення MkDocs (якщо ще не встановлено)
pip install mkdocs mkdocs-material

# Запуск локального сервера документації
mkdocs serve

# Побудова статичної документації
mkdocs build
```

Документація буде доступна за адресою `http://127.0.0.1:8000` під час роботи `mkdocs serve`.

## Структура проекту

```
balloon_calc/
├── balloon/                    # Основний пакет
│   ├── gui_main.py            # Головний GUI файл
│   ├── calculations.py        # Логіка розрахунків
│   ├── models.py              # Pydantic моделі
│   ├── validators.py          # Валідація даних
│   ├── settings.py            # Управління налаштуваннями
│   ├── export.py              # Експорт даних
│   ├── utils.py               # Утиліти (Rich)
│   ├── shapes/                # Модулі форм
│   ├── patterns/              # Генерація викрійок
│   ├── gui/                   # GUI компоненти
│   │   ├── plotly_3d.py       # Plotly 3D візуалізація
│   │   └── ...
│   └── analysis/              # Аналітичні модулі
│       └── optimal_height.py  # Оптимізація висоти (SciPy)
├── tests/                     # Тести
├── docs/                      # Документація MkDocs
├── dist_exe/                  # Готові exe-файли
├── pyproject.toml             # Конфігурація проекту
├── requirements.txt           # Залежності
└── mkdocs.yml                 # Конфігурація документації
```

## Особливості реалізації

### Валідація даних
- Використання Pydantic для типізованої валідації
- Автоматична конвертація рядків у числа
- Перевірка діапазонів та залежностей між полями
- Зворотна сумісність зі старою системою валідації

### Управління налаштуваннями
- Автоматичне збереження/завантаження через Pydantic Settings
- Збереження у JSON форматі
- Підтримка значень за замовчуванням

### Експорт даних
- Excel експорт через Pandas (openpyxl)
- Структуровані таблиці з форматуванням
- Експорт результатів та викрійок

### 3D візуалізація
- Plotly для інтерактивних моделей (обертання, масштабування)
- Matplotlib як fallback для статичних моделей
- Автоматичне масштабування для різних форм

### Оптимізація
- SciPy для пошуку оптимальної висоти польоту
- Ітеративні алгоритми для розрахунку об'єму з навантаження

## Для кого

- Інженери, що працюють з аеростатами
- Аматори та ентузіасти повітряних куль
- Студенти та викладачі фізики/аеронавтики
- Розробники, що експериментують з матеріалами та формами

## Автори

Братство дисидентів БРТ

---

## Примітки

- Усі підписи, підказки, дефолти та тексти централізовано у `balloon/labels.py` для зручності локалізації та модифікації
- Проект використовує сучасні Python практики: type hints, Pydantic, pyproject.toml
- Документація генерується автоматично з docstrings та Markdown файлів
